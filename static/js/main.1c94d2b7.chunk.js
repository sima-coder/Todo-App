(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{212:function(e,t,a){e.exports=a(409)},217:function(e,t,a){},218:function(e,t,a){},409:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),c=a.n(o),l=(a(217),a(218),a(16)),i=a(3),s=a(45),u=a(17),m=a(27),d=a(5),f=Object(d.b)((function(e){return console.log(e),{uid:e.firebase.auth.uid}}),(function(e){return{signIn:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then((function(){t({type:"SIGN_IN"})})).catch((function(e){t({type:"SIGN_IN_ERR",err:e})}))}}(t))}}}))((function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(m.a)(t,2),o=a[0],c=a[1],l=function(e){c(Object(u.a)(Object(u.a)({},o),{},Object(s.a)({},e.target.id,e.target.value)))};return e.uid?r.a.createElement(i.a,{to:"/"}):r.a.createElement("div",{className:"bg vh-100"},r.a.createElement("form",{className:"container mt-5",autoComplete:"off",onSubmit:function(t){t.preventDefault(),console.log(o),e.signIn(o)}},r.a.createElement("legend",null,r.a.createElement("h2",{className:"text-dark p-3"},"Sign In")),r.a.createElement("div",{className:"form-group col-lg-5"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter email",onChange:l})),r.a.createElement("div",{className:"form-group col-lg-5"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter password",onChange:l})),r.a.createElement("button",{type:"submit",className:"btn btn-primary ml-3"},"Sign In")))})),p=Object(d.b)((function(e){return console.log(e),{uid:e.firebase.auth.uid}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().auth().createUserWithEmailAndPassword(e.email,e.password).then((function(){t({type:"SIGN_UP"})})).catch((function(e){t({type:"SIGN_UP_ERR",err:e})}))}}(t))}}}))((function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(m.a)(t,2),o=a[0],c=a[1],l=function(e){c(Object(u.a)(Object(u.a)({},o),{},Object(s.a)({},e.target.id,e.target.value)))};return e.uid?r.a.createElement(i.a,{to:"/"}):r.a.createElement("div",{className:"bg vh-100"},r.a.createElement("form",{className:"container mt-5",autoComplete:"off",onSubmit:function(t){t.preventDefault(),console.log(o),e.signUp(o)}},r.a.createElement("legend",null,r.a.createElement("h2",{className:"text-dark p-3"},"Sign Up")),r.a.createElement("div",{className:"form-group col-lg-5"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter email",onChange:l})),r.a.createElement("div",{className:"form-group col-lg-5"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter password",onChange:l})),r.a.createElement("button",{type:"submit",className:"btn btn-primary ml-3"},"Sign Up")))})),E=Object(d.b)(null,(function(e){return{addTodo:function(t){return e(function(e){return function(t,a,n){var r=(0,n.getFirebase)().firestore(),o=a().firebase.auth.uid,c={task:e,authorId:o,date:new Date,completed:!1};r.collection("todos").add(c).then((function(){t({type:"ADD_TODO",todo:c})})).catch((function(e){t({type:"ADD_TODO_ERR",err:e})}))}}(t))}}}))((function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),o=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{id:"addTodoForm",className:"container mt-5 bg-dark py-3",autoComplete:"off",onSubmit:function(t){t.preventDefault(),""!==o&&(e.addTodo(o),c(""),document.querySelector("#addTodoForm").reset())}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col offset-3"},r.a.createElement("input",{type:"text",className:"form-control ",placeholder:"Add a new task ...",onChange:function(e){c(e.target.value)}})),r.a.createElement("div",{className:"col"},r.a.createElement("button",{type:"submit",className:"btn btn-warning"},"Add")))))})),b=a(210),g=a.n(b),h=function(e){var t=e.checked,a=e.onClick;return!0===t?r.a.createElement("span",{className:"material-icons text-success",style:{cursor:"pointer"},onClick:a},"check_circle"):r.a.createElement("span",{className:"material-icons text-muted",style:{cursor:"pointer"},onClick:a},"check_circle")},O=Object(d.b)(null,(function(e){return{removeTodo:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection("todos").doc(e.id).delete().then((function(){t({type:"REMOVE_TODO",todo:e})})).catch((function(e){t({type:"REMOVE_TODO_ERR",err:e})}))}}(t))},toggleCompleted:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection("todos").doc(e.id).set(Object(u.a)(Object(u.a)({},e),{},{completed:!e.completed}),{merge:!0}).then((function(){t({type:"TOGGLE_COMPLETED",todo:e})})).catch((function(e){t({type:"TOGGLE_COMPLETED_ERR",err:e})}))}}(t))},editTodo:function(t,a){return e(function(e,t){return function(a,n,r){(0,r.getFirebase)().firestore().collection("todos").doc(t.id).set(Object(u.a)(Object(u.a)({},t),{},{task:e}),{merge:!0}).then((function(){a({type:"UPDATE_TODO",todo:t})})).catch((function(e){a({type:"UPDATE_TODO_ERR",err:e})}))}}(t,a))}}}))((function(e){var t=e.todo,a=e.removeTodo,o=e.toggleCompleted,c=e.editTodo,l=Object(n.useState)(""),i=Object(m.a)(l,2),s=i[0],u=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("th",null,t.task),r.a.createElement("td",null,g()(t.date.toDate()).calendar()),r.a.createElement("td",null,r.a.createElement(h,{checked:t.completed,onClick:function(){return function(e){o(e)}(t)}})),r.a.createElement("td",null,r.a.createElement("span",{className:"material-icons text-danger",style:{cursor:"pointer"},onClick:function(){return function(e){window.confirm("Are you sure you want to delete this task ?")&&a(e)}(t)},title:"Delete"},"delete"),r.a.createElement("span",{className:"material-icons text-warning",style:{cursor:"pointer"},onClick:function(){return e=t.id,void document.getElementById(e).classList.toggle("hide");var e},title:"Edit"},"edit"),r.a.createElement("form",{id:t.id,className:"hide",onSubmit:function(){return function(e){""!==s&&(c(s,e),window.location.reload())}(t)},autoComplete:"off"},r.a.createElement("input",{type:"text",placeholder:t.task,onInput:function(e){u(e.target.value)}})))))})),v=a(25),N=a(26),w=Object(v.d)(Object(d.b)((function(e){return console.log(e),{todos:e.firestore.ordered.todos,uid:e.firebase.auth.uid}})),Object(N.firestoreConnect)((function(e){return[{collection:"todos",where:["authorId","==",e.uid],orderBy:["date","desc"]}]})))((function(e){var t=e.todos;return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table table-dark container mt-5"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-info"},r.a.createElement("th",null,"Tasks"),r.a.createElement("th",null,"Added On"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,t&&t.map((function(e){return r.a.createElement(O,{todo:e,key:e.id})})))))})),y=Object(d.b)((function(e){return{uid:e.firebase.auth.uid}}))((function(e){return e.uid?r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement(w,null)):r.a.createElement(i.a,{to:"signin"})})),_=Object(d.b)((function(e){return{uid:e.firebase.auth.uid}}),(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGN_OUT"})}))}))}}}))((function(e){var t=e.signOut;return e.uid?r.a.createElement(l.b,{to:"/signin",className:"nav-link",onClick:t},"Log Out"):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-flex-end"},r.a.createElement(l.b,{to:"/signup",className:"nav-link"},"Sign Up"),r.a.createElement(l.b,{to:"/signin",className:"nav-link"},"Sign In")))})),j=Object(d.b)((function(e){return console.log(e),{todos:e.firestore.ordered.todos}}))((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement(l.b,{to:"/",className:"navbar-brand"},r.a.createElement("h3",null,"Todo App")),r.a.createElement(_,null)))})),T=a(6);a(371);var k=function(){return r.a.createElement("div",null,r.a.createElement(l.a,null,r.a.createElement(j,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/signin",component:f}),r.a.createElement(i.b,{path:"/signup",component:p}),r.a.createElement(i.b,{path:"/",component:y})),r.a.createElement(T.a,{position:T.b.POSITION.TOP_CENTER})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(372);var D=a(85),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return T.b.success("A task was added successfully"),e;case"ADD_TODO_ERR":return T.b.error("An error was occurred"),e;case"REMOVE_TODO":return T.b.warn("A task was removed successfully"),e;case"REMOVE_TODO_ERR":return T.b.error("An error was occurred"),e;case"TOGGLE_COMPLETED":return T.b.info("A task status was completed"),e;case"ADD_TODO_ERR":return T.b.error("An error was occurred"),e;case"UPDATE_TODO":return T.b.success("A task was updated successfully"),e;case"UPDATE_TODO_ERR":return T.b.error("An error was occurred"),e;default:return e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(T.b)(" Welcome, you are now connected to TodoApp"),e;case"SIGN_IN_ERR":return T.b.error("Sign in error"),e;case"SIGN_OUT":return Object(T.b)("You are disconnected at the moment !"),e;case"SIGN_UP":return Object(T.b)(" Welcome !"),e;case"SIGN_UP_ERR":return T.b.error("Sign up error"),e;default:return e}},A=Object(v.c)({firebase:N.firebaseReducer,firestore:D.firestoreReducer,todo:I,auth:R}),S=a(211),C=a(86),F=a.n(C);a(404),a(407);F.a.initializeApp({apiKey:"AIzaSyAnIZOHbWHAjHyrCilO58aWJcCEpE2GX0A",authDomain:"todo-app-a6413.firebaseapp.com",databaseURL:"https://todo-app-a6413.firebaseio.com",projectId:"todo-app-a6413",storageBucket:"todo-app-a6413.appspot.com",messagingSenderId:"862494997405",appId:"1:862494997405:web:6d411990827e6f9d900d74"}),F.a.firestore();var P=F.a,G=Object(v.e)(A,Object(v.a)(S.a.withExtraArgument({getFirebase:N.getFirebase}))),U={firebase:P,config:{},dispatch:G.dispatch,createFirestoreInstance:D.createFirestoreInstance};function x(e){var t=e.children,a=Object(d.c)((function(e){return e.firebase.auth}));return Object(N.isLoaded)(a)?t:r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-grow text-primary mt-5 pt-5",style:{width:"7rem",height:"7rem"},role:"status"},r.a.createElement("span",{className:"sr-only"}," Loading... ")))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.a,{store:G},r.a.createElement(N.ReactReduxFirebaseProvider,U,r.a.createElement(x,null,r.a.createElement(k,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[212,1,2]]]);
//# sourceMappingURL=main.1c94d2b7.chunk.js.map